<!doctype html> 
<html>
   <head> 
      <meta charset="utf-8">
      <title>WebAssembly Reverse Number</title>
      <style>
         div { 
            font-size : 30px; text-align : center; color:orange; 
         } 
      </style>
      <script src="binds.js"></script>
      <script src="bible.js"></script>
      <script src="tests.js"></script>
   </head>
   <body>
      <button id="btn" onclick="updateBtnText()">0</button>
      <p id="first"></p>
      <p id="js-md5"></p>
      <p id="cpp-md5"></p>
      <p id="js-array"></p>
      <p id="cpp-array"></p>
      <p id="js-same-sort"></p>
      <p id="cpp-same-sort"></p>
      <script>
         let CPP;
         CppBenchmark().then((Module) => {
            CPP = Module
         });
         
         let cppFirst = false;

         function updateBtnText() {
            document.querySelector("#btn").innerHTML = CPP.fib()

            document.querySelector("#first").innerHTML = cppFirst ? "CPP first" : "JS first"

            if (cppFirst) {
               cppFirst = false
               document.querySelector("#cpp-md5").innerHTML = "CPP Holy Biblie MD5: " + CPP.md5Test()
               document.querySelector("#cpp-array").innerHTML = "CPP array: " + CPP.arrayOperationsTest()
               document.querySelector("#js-md5").innerHTML = "JS Holy Biblie MD5: " + JSmd5Test()
               document.querySelector("#js-array").innerHTML = "JS array: " + JSarrayOperationsTest()
            }
            else {
               cppFirst = true
               document.querySelector("#js-md5").innerHTML = "JS Holy Biblie MD5: " + JSmd5Test()
               document.querySelector("#js-array").innerHTML = "JS array: " + JSarrayOperationsTest()
               document.querySelector("#cpp-md5").innerHTML = "CPP Holy Biblie MD5: " + CPP.md5Test()
               document.querySelector("#cpp-array").innerHTML = "CPP array: " + CPP.arrayOperationsTest()
            }


            //console.log(CPP.arrayOperationsTest());

            

            // console.log(sum);

            // let str = ""

            // for (let i = 0; i < 10000; ++i)
            // {
            //    const md5result = md5(str)
            //    str += md5result[0]
            // }

            // for (let j = 0; j < 1000; ++j)
            // {
            //    const md5result = md5(str)
            //    str = str.replaceAt(j % 1000, md5result[0])
            // }

            // console.log(str)


            // console.log("CPP: " + CPP.md5Test())
         }
         
      </script>
   </body>
</html>